<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>wasam-demo</title>
    <script src="./wasm_exec.js"></script>
    <script>
        (async () => {
            const go = new Go();
            const { instance } = await WebAssembly.instantiateStreaming(
                fetch('main.wasm'),
                go.importObject
            );
            await go.run(instance);
        })();
        async function run() {
            console.clear();
            await go.run(inst);
            inst = await WebAssembly.instantiate()
        }

    </script>
</head>
<body>
    <div id="message">Hello, World</div>
    <div><input type="text" id="in"></div>
    <div><input type="text" id="out"></div>
    <div><button id="init-text">init text!!</button></div>
</body>
</html>